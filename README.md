# ApiOsm
Тестирования обратного и прямого геокодирования систему координат Nominatim Open Street Map (nominatim.openstreetmap.org) через pytest.
Тест кейсы представленны в двух файлах direct_test.py и reverse_test.py

# Зависимости:

# Python интерпретатор:

<ul><li>Python 3.5. или новее</li></ul>

# Python библиотеки:
jsonschema
xml
requests
pytest
math

# Установка
python3 -m pip install -r ./ApiOsm/requirements.txt

# Описание формата тест кейсов
Тесты написана по формату pytest и используют несколько mark.parametrize для передачи входных значений на начала теста, которые будут использваны для отправки в сторону сервера Osm.

#### Описание тестовых процедур:

Для взаимодействия с API Osm будет использован модуль Osm_api.py, на вход которого подается следующее:

1. location - локация, которую нужно найти
2. lat - ожидаемая ширина
3. lon - ожидаемая долгота

В зависимости от теста, будет произведен анализ либо полученного значения lat, lon, с заданным в тесте (прямое геокодирование), либо анализ location (обратное геокодирование)

# Прямое геокодирование

Передаем 
location - локация, которую нужно найти
Получаем:
lat - ожидаемая ширина
lon - ожидаемая долгота
Сравниваем полученные lat, lon с заранее заданными в mark.parametrize

# Обратное геокодирование

Передаем 
lat - широта проверки
lon - долгота проверки
Получаем:
location - локация, которую необходимо проверить
Сравниваем полученную location с заранее заданными в mark.parametrize

### Описание конфигурции теста
Конфигурирование тест кейса (передача входных значений) происходит путем испозьзования параметризации тестовых функций (@pytest.mark.parametrize)
Пример:
@pytest.mark.parametrize("lat, lon, location", [('55.0282171', '82.9234509', 'Novosibirsk')

### Пример запуска
``````
pytest
Результат работы:
======================================================================================= test session starts =======================================================================================
platform linux -- Python 3.8.10, pytest-6.2.5, py-1.10.0, pluggy-1.0.0
rootdir: /home/sergey/Work/local_test/ApiOsm
collected 14 items                                                                                                                                                                                

direct_test.py .........                                                                                                                                                                    [ 64%]
reverse_test.py .....                                                                                                                                                                       [100%]

======================================================================================= 14 passed in 10.83s =======================================================================================
``````
